/* src/components/Chatbot.module.css - CÓDIGO ATUALIZADO E ESTILIZADO */

/* Variáveis de cor (Ajustadas para a paleta da sua aplicação) */
:root {
  --chatbot-primary-color: #c25c5c;  /* Accent Blue da paleta da aplicação (usado como 'primary' para o chatbot) */
  --chatbot-primary-hover: #b34d4d; /* Accent Blue hover */
  --chatbot-background-light: #f9fafb; /* Fundo claro da paleta da aplicação */
  --chatbot-text-dark: #1f2937; /* Text Dark da paleta da aplicação */
  --chatbot-text-medium: #4b5563; /* Text Medium da paleta da aplicação */
  --chatbot-border-light: #d1d5db; /* Light Gray da paleta da aplicação */
  --chatbot-shadow-medium: 0 5px 20px rgba(0, 0, 0, 0.15); /* Sombra consistente */
}

/* Botão Flutuante para Abrir o Chatbot */
.chatbotToggleButton {
  position: fixed; /* Fixado na tela */
  bottom: 25px; /* Ligeiramente mais acima */
  right: 25px; /* Ligeiramente mais para a direita */
  background-color: var(--chatbot-primary-color); /* **ALTERADO PARA ACCENT BLUE** */
  color: white;
  border: none;
  border-radius: 10px; /* Alterado para um retângulo arredondado para caber o texto */
  width: 220px; /* Largura maior para o ícone e texto */
  height: 60px; /* Altura ajustada */
  font-size: 1em; /* Tamanho da fonte base para o texto */
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); /* Sombra mais forte para destacá-lo */
  z-index: 1000; /* Garante que esteja acima de outros elementos */
  transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
  padding: 0 15px; /* Padding horizontal para o texto */
  text-align: center; /* Centraliza o texto */
  gap: 10px; /* Espaçamento entre o ícone e o texto */
}

.chatbotToggleButton:hover {
  background-color: var(--chatbot-primary-hover); /* **ALTERADO PARA ACCENT BLUE HOVER** */
  transform: translateY(-5px); /* Efeito de "levantar" mais pronunciado */
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4); /* Sombra ainda mais forte no hover */
}

.buttonText {
    font-weight: bold;
    font-size: 1.1em; /* Tamanho da fonte do texto dentro do botão */
    line-height: 1.2; /* Ajusta a altura da linha para o texto */
    white-space: nowrap; /* Impede que o texto quebre em várias linhas */
}

.buttonIcon {
    width: 28px; /* Tamanho do ícone */
    height: 28px;
    flex-shrink: 0; /* Impede que o ícone encolha */
}


/* Contêiner Principal do Widget do Chatbot */
.chatbotWidgetContainer {
  position: fixed; /* Fixado na tela */
  top: 100px; /* Ajuste este valor conforme a altura da sua Navbar */
  right: 20px; /* Alinhado com o botão */
  width: 350px; /* Largura do chatbot */
  height: 500px; /* Altura do chatbot */
  background-color: var(--chatbot-background-light); /* Fundo claro */
  border-radius: 12px; /* Cantos arredondados */
  box-shadow: var(--chatbot-shadow-medium); /* Sombra mais forte */
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Esconde qualquer coisa que transborde */
  z-index: 999; /* Um pouco abaixo do botão de toggle */
  border: 1px solid var(--chatbot-border-light); /* Borda sutil */
  transition: all 0.3s ease-in-out; /* Transição para abrir/fechar suavemente */
}

/* Cabeçalho do Chatbot */
.chatbotHeader {
  background-color: var(--chatbot-primary-color);
  color: white;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: 'Poppins', sans-serif; /* Mantido Poppins para o cabeçalho */
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.chatbotHeader h3 {
  margin: 0; /* Remove margem padrão do h3 */
  font-size: 1.2em;
  font-weight: 600;
  color: white;
}

.closeButton {
  background-color: transparent;
  border: 1px solid white; /* Borda branca para destaque */
  color: white;
  border-radius: 50%;
  width: 28px; /* Ligeiramente maior */
  height: 28px;
  font-size: 0.9em;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: background-color 0.2s ease, transform 0.1s ease;
}

.closeButton:hover {
  background-color: rgba(255, 255, 255, 0.2);
  transform: scale(1.05); /* Pequeno zoom no hover */
}

/* Área de Mensagens */
.chatbotMessages {
  flex-grow: 1; /* Ocupa o espaço restante */
  padding: 15px;
  overflow-y: auto; /* Permite rolar se as mensagens transbordarem */
  background-color: var(--chatbot-background-light);
  display: flex;
  flex-direction: column;
  /* Estilização da barra de rolagem */
  &::-webkit-scrollbar {
    width: 8px;
  }
  &::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
  }
  &::-webkit-scrollbar-thumb {
    background: var(--chatbot-border-light);
    border-radius: 10px;
  }
  &::-webkit-scrollbar-thumb:hover {
    background: var(--chatbot-text-medium);
  }
}

.welcomeMessage {
  text-align: center;
  color: var(--chatbot-text-medium);
  font-style: italic;
  padding: 10px;
  border-bottom: 1px solid var(--chatbot-border-light); /* Borda sutil */
  margin-bottom: 15px;
  font-size: 0.9em; /* Tamanho ligeiramente menor */
}

.message {
  max-width: 80%;
  padding: 10px 14px; /* Mais padding horizontal */
  border-radius: 18px; /* Mais arredondado */
  margin-bottom: 10px;
  word-wrap: break-word; /* Quebra palavras longas */
  font-family: 'Roboto', sans-serif; /* Mantido Roboto para mensagens */
  font-size: 0.95em;
  line-height: 1.4; /* Melhor legibilidade */
}

.message.user {
  background-color: var(--chatbot-primary-color); /* Mensagem do usuário com primary-color do chatbot */
  color: white;
  align-self: flex-end; /* Alinha à direita */
  border-bottom-right-radius: 6px; /* Pequeno ajuste no canto */
}

.message.bot {
  background-color: white; /* Mensagem do bot com fundo branco */
  color: var(--chatbot-text-dark);
  align-self: flex-start; /* Alinha à esquerda */
  border: 1px solid var(--chatbot-border-light); /* Borda sutil */
  border-bottom-left-radius: 6px; /* Pequeno ajuste no canto */
}

.message.loading {
  background-color: #e9e9e9; /* Um cinza mais claro */
  color: var(--chatbot-text-medium);
  font-style: italic;
  padding: 10px 14px;
}

/* Formulário de Input */
.chatbotInputForm {
  padding: 15px;
  background-color: white;
  border-top: 1px solid var(--chatbot-border-light); /* Borda superior sutil */
  display: flex;
  gap: 10px;
  align-items: center; /* Centraliza verticalmente input e botão */
}

.inputField {
  flex-grow: 1; /* Ocupa o espaço restante */
  padding: 10px 15px;
  border: 1px solid var(--chatbot-border-light); /* Borda sutil */
  border-radius: 25px; /* Cantos bem arredondados */
  font-family: 'Roboto', sans-serif;
  font-size: 1em;
  color: var(--chatbot-text-dark);
}

.inputField::placeholder {
  color: var(--chatbot-text-medium); /* Cor do placeholder */
}

.inputField:focus {
  outline: none;
  border-color: var(--chatbot-primary-color); /* Borda primária no foco */
  box-shadow: 0 0 0 3px rgba(0, 116, 155, 0.2); /* Sombra no foco com Accent Blue */
}

.sendButton {
  background-color: var(--chatbot-primary-color);
  color: white;
  border: none;
  border-radius: 25px; /* Cantos bem arredondados */
  padding: 10px 20px;
  cursor: pointer;
  font-family: 'Poppins', sans-serif; /* Mantido Poppins para o botão */
  font-weight: 600;
  transition: background-color 0.2s ease, transform 0.1s ease;
  flex-shrink: 0; /* Não permite que o botão encolha */
}

.sendButton:hover {
  background-color: var(--chatbot-primary-hover);
  transform: translateY(-1px); /* Leve efeito de levantar */
}

.sendButton:disabled {
  background-color: #ccc;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Responsive adjustments */
@media (max-width: 480px) {
  .chatbotWidgetContainer {
    width: 95%; /* Ocupa quase toda a largura em telas muito pequenas */
    height: 80vh; /* Altura responsiva */
    top: 10vh; /* Centraliza verticalmente um pouco */
    right: 2.5%; /* Centraliza horizontalmente */
    left: 2.5%;
    border-radius: 8px;
  }

  .chatbotToggleButton {
    width: 180px; /* Ajusta largura para telas menores */
    height: 50px;
    font-size: 0.9em;
    bottom: 15px;
    right: 15px;
    border-radius: 8px;
    padding: 0 10px;
    gap: 8px;
  }

  .buttonText {
    font-size: 0.95em; /* Ajusta fonte para telas menores */
  }

  .buttonIcon {
    width: 24px;
    height: 24px;
  }

  .chatbotHeader h3 {
    font-size: 1.1em;
  }

  .closeButton {
    width: 24px;
    height: 24px;
    font-size: 0.8em;
  }

  .message {
    font-size: 0.9em;
    padding: 8px 12px;
  }

  .chatbotInputForm {
    padding: 10px;
    gap: 8px;
  }

  .inputField {
    padding: 8px 12px;
    font-size: 0.95em;
  }

  .sendButton {
    padding: 8px 15px;
    font-size: 0.95em;
  }
}
